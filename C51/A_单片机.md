<details><summary><h3>特别说明<h3></summary>

<center>    

![[../ASLant_Files/1cd85b32622f53eee967e6df8aa176f2_MD5.jpg]]   

</center>   

</details>

<br/>

## 共阴极七段数码管
----
![[../ASLant_Files/080717d5ab0e2ebf55028224e2b40972_MD5.jpg]]   

```c 
// 共阴极   
    0x3F, //"0"
    0x06, //"1"
    0x5B, //"2"
    0x4F, //"3"
    0x66, //"4"
    0x6D, //"5"
    0x7D, //"6"
    0x07, //"7"
    0x7F, //"8"
    0x6F, //"9"
    0x77, //"A"
    0x7C, //"B"
    0x39, //"C"
    0x5E, //"D"
    0x79, //"E"
    0x71, //"F"
    0x76, //"H"
    0x38, //"L"
    0x37, //"n"
    0x3E, //"u"
    0x73, //"P"
    0x5C, //"o"
    0x40, //"-"
    0x00  // 熄灭
```

<br/>   

## 不可位寻址 & 可位寻址    
----
#### 不可位寻址
```sh
例如：TMOD是不可位寻址的

# 但是如果我们想让T0MD中的M2(D0)位置置1的话
直接 TMOD = 1;的话，就是错的，因为它不能位寻址。
只能 TMOD = 0x01;(00000001)
```     
#### 可位寻址   
```sh
例如：TCON是可位寻址的  

# 假如让TR1(D7位置)置1
我们就可以有两种赋值方式：  
TCON = 80;
或者
TR1 = 1;

``` 

<br/>



## 工作方式控制寄存器 TMOD
----    
- 字节地址为89H，**不能位寻址**      

![[../ASLant_Files/664a8561ba641b5c970fd56c7d7226f9_MD5.jpg]]       

8位分为两组，高四位控制T1，低四位控制T0   
 
####  GATE  门控位    
**两种工作模式**         

- GATE = 0 时，仅由TRx(x = 0,1)来控制定时器/计数器运行;     
- GATE = 1 时，外中断引脚和运行控制位TRx共同控制定时器/计数器运行;      


####  M1、M0  工作方式选择位      
共有四种编码 即**四种工作方式**       
 
![[../ASLant_Files/1f8a0232c80e63e6507563564fdf554d_MD5.jpg]]          

####  C/T非 计数器模式和定时器模式选择位          
- C/~~T~~ = 0，定时器模式     
- C/~~T~~ = 1，计数器模式         

                            


<br/>             

## 定时器/计数器控制寄存器 TCON     
-----
TCON的字节地址为88H，**可寻址位**，位地址为88H ~ 8FH.   

![[../ASLant_Files/5b1a0b2cad8bc1fc5ad80a13146dcda7_MD5.jpg]]      

####  TF1、TF0  计数溢出标志位    
当计数器溢出时，该位置为1。       
> 使用查询扫描方式时，此位作为状态位供CPU查询，使用后及时**手动将该位清零**。       
> 使用中断方式时，此位作为中断请求标志位，进入中断服务程序后由硬件**自动清零**。        
####  TR1、TR0  计数运行控制位    
- TR1位(或TR0位) = 1，为启动定时器/计数器工作的`必要条件`。   
- TR1位(或TR0位) = 0，则停止定时器/计数器工作。     
- 该位可由软件置1或置0。    


####  IE0、IE1  外部中断请求标志位      


####  IT1、IT0  中断触发方式选择位      
- IT1 = 0，为电平触发方式，加到引脚 ~~INT1~~ 上的外部中断请求输入信号为低电平有效，并把IE1置1。转向中断服务程序时，则由硬件自动把IE1清0。       
- IT1 = 1，为跳沿触发方式，加到引脚 ~~INT1~~ 上的外部中断请求输入信号电平从高到低的负跳变有效，并把IE1置1。转向中断服务程序时，则由硬件自动把IE1清0。       
> IT0 与上同    
- 当AT89S52单片机复位后，TCON被清0，6个中断源的中断请求标志均为0。      



<br/>   

## 中断允许寄存器 IE    
----
字节地址为 A8H，为可寻址位      

![[../ASLant_Files/3086fbd8f86e03072b3703b7c7228af9_MD5.jpg]]   

<br/>

## 中断函数
----
- 一般使用形式  
  
> 函数类型  函数名  interrupt n using n 

![[../ASLant_Files/16690caebc0b3481484919ed5e5cec61_MD5.jpg]]       

<br/>

## 定时器初始值的设定   
----
> 假设初始数值为**50ms**(即50000us)     
> 设定时器T0(T1)的初始值为**X**,假设晶振频率为**11.0592Mhz**        
> 则满足以下公式：    
> 定时时长 = （2的16次方 - 初始值） * 12 / 晶振频率     
> 
> 即:   
> 
> ![[../ASLant_Files/cd2c49c59cdcba0c4c721571a0a73241_MD5.jpg]] 






-----

![[../ASLant_Files/9627d84893979635e67810413f7d1e92_MD5.jpg]]