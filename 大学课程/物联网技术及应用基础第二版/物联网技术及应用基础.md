# ESP 系列引脚图
-  [[../../IOT/ESP32/ESP32 引脚图|ESP32 引脚图]]
-  [[../../IOT/ESP8266/ESP8266 引脚图|ESP8266 引脚图]]
# LED 闪烁
> [!bug] 板载 LED 默认是在 GPIO2 上

```cpp
#include <Arduino.h>  //可带可不带
#define LED 2
void setup() {
  pinMode(LED, OUTPUT);  // 初始化引脚为输出模式
}

void loop() {
  digitalWrite(LED, LOW);   // 打开LED
  delay(1000);              // 等待一秒钟
  digitalWrite(LED, HIGH);  // 关闭LED
  delay(1000);              // 再次等待一秒钟
}
```
# AP 模式
![[../../ASLant_Files/2024-06-27-11-58-07.png]]

> [!NOTE] AP 模式下默认 IP 为 192.168.4.1

```cpp
#include <WiFi.h>

void setup() {
  Serial.begin(115200);
  delay(10);
  WiFi.mode(WIFI_AP);                             // 设置ESP8266工作模式为AP
  Serial.println("Configuring access point...");  // 创建网络
  WiFi.softAP("ESP32_AP", "12345678.");           // SSID为"ESP32_AP"，密码为12345678.
  Serial.println("Access Point IP Address:");     // 打印AP的IP地址
  Serial.println(WiFi.softAPIP());
}

void loop() {
}
```
# STA 模式
![[../../ASLant_Files/2024-06-27-12-18-46.png]]

```cpp
#include <WiFi.h>

// 连接您的WiFi网络名称和密码
const char* ssid = "ASLant";
const char* password = "123456789";

void setup() {
  Serial.begin(115200);
  delay(10);

  WiFi.mode(WIFI_STA);  // 设置ESP32工作模式为STA

  // 连接到WiFi网络
  Serial.print("Connecting to ");
  Serial.println(ssid);
  WiFi.begin(ssid, password);

  // 等待连接到WiFi
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("WiFi connected");
  Serial.println("IP address: ");
  Serial.println(WiFi.localIP());
}

void loop() {
}
```

# 按键控制 LED

```cpp
#include <Arduino.h>  //可带可不带
#define BUTTON 6      // 按钮连接到GPIO6
#define LED 2         // LED连接到GPIO2

void setup() {
  pinMode(BUTTON, INPUT_PULLUP);  // 将按钮引脚设置为输入上拉模式
  pinMode(LED, OUTPUT);           // 将LED引脚设置为输出模式
}

void loop() {
  if (digitalRead(BUTTON) == LOW)  // 如果按钮被按下
  {
    digitalWrite(LED, HIGH);  // 打开LED
  } else {
    digitalWrite(LED, LOW);  // 关闭LED
  }
}
```
# 读取触摸数值

> [!NOTE] 如果触摸数值小于 50 就点亮 LED，否则就关闭，100ms 读取一次

```cpp
void setup() {
  pinMode(2, OUTPUT);  // 设置板载LED引脚为输出
  Serial.begin(115200);
}

void loop() {
  int touchValue = touchRead(15);  // 读取触摸引脚的值
  Serial.println(touchValue);      // 打印
  if (touchValue < 50) {           // 如果触摸值小于50，点亮LED
    digitalWrite(2, HIGH);         // 点亮LED
  } else {
    digitalWrite(2, LOW);  // 关闭LED
  }
  delay(100);  // 稍作延迟，避免过度刷新
}
```
